<!DOCTYPE html>
<html lang="en">

<head>
  <h1>Test App</h1>
</head>

<body>
  <div id="container">
    <input id="code" type="text" placeholder="code" />
    <button id="getToken">Get Token</button>
    <p id="result"></p>
    <input id="refresh_code" type="text" placeholder=" refresh code" />
    <button id="refreshAccessToken">Get New Access Token</button>
    <p id="refresh_result"></p>
  </div>

  <script type="text/javascript">
    const getTokenElement = document.getElementById('getToken');
    getTokenElement.onclick = function () {
      const codeElement = document.getElementById('code');
      const resultElement = document.getElementById('result');
      const codeValue = codeElement.value;

      // Replace this by your function endpoint
      const lambdaURL = 'https://j6d5d3y5jb.execute-api.us-east-2.amazonaws.com/dev/api/token/' + codeValue;

      fetch(lambdaURL)
        .then(function (response) {
          return response.json();
        })
        .then(function (json) {
          resultElement.innerText = JSON.stringify(json);
        });
    }

    const getRefreshTokenElement = document.getElementById('getRefreshToken');
    getRefreshTokenElement.onclick = function () {
      const codeElement1 = document.getElementById('refresh_code');
      const resultElement1 = document.getElementById('refresh_result');
      const refreshcodeValue = codeElement.value;

      // Replace this by your function endpoint
      const lambdaURL2 = 'https://j6d5d3y5jb.execute-api.us-east-2.amazonaws.com/dev/api/refresh_token/' + refreshcodeValue;

      fetch(lambdaURL2)
        .then(function (response) {
          return response.json();
        })
        .then(function (json) {
          resultElement1.innerText = JSON.stringify(json);
        });
    } 
  </script>
</body>

</html>